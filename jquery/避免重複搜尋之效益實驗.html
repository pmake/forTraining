<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Document</title>
        <script src="../frameWorks/jquery/jquery-1.12.4.min.js"></script>

    </head>
    <body>
        <p></p>
        <p></p>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
        <h1></h1>
        <h1></h1>
        <h1></h1>
        <h1></h1>
        <h1></h1>
        <h1></h1>
        <h1></h1>
        <h1></h1>
        <h1></h1>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <p></p>
        <button>點擊以開始實驗</button>
    </body>
    <script>
        $('button').click(function() {
            var start, end;

            alert('點擊確定以開始方式１測試，約需20秒，依硬體而異，請稍候');
            //記錄開始時間
            start = Date.now();

            //方式1:每次重新搜尋
            for (let i=1; i<1000000;i++){
                $('p').attr('class','123');
            }
            //記錄結束時間
            end = Date.now();
            alert('方式1花費 ' + (end-start)/1000 + ' seconds');
            alert('點擊確定開始方式2測試，並稍候片刻');
            start = Date.now();

            //方式2:先儲存搜尋結果
            var test = $('p');
            for (let i=1; i<1000000;i++){
                test.attr('class','123');
            }
            end = Date.now();
            alert('方式2花費 ' + (end-start)/1000 + ' seconds');
            alert('點擊確定再測試方式1一次，以排除順序影響，並稍候片刻');
            start = Date.now();

            //方式1:每次重新搜尋(再執行一次消除先後順序影響變數)
            for (let i=1; i<1000000;i++){
                $('p').attr('class','123');
            }

            end = Date.now();
            alert('方式1再次測試花費 ' + (end-start)/1000 + ' seconds');
            alert('測試結束! 方式1是不是快很多呢?');
        });
    </script>
</html>