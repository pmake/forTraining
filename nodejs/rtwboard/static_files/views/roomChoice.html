<div id="divReplace">
    <div class="panel panel-default">
        <!-- Default panel contents -->
        <div class="panel-heading">
            <button id="btnCreateRoom" type="button" class="btn btn-success">創建畫室</button>
        </div>

        <!-- Table -->
        <table class="table">
            <thead>
                <tr>
                    <th>進入畫室</th>
                    <th>畫室名稱</th>
                    <th>玩家人數</th>
                    <th>進行模式</th>
                </tr>
            </thead>
            <tbody id='tbRoomList'>
            </tbody>
        </table>
    </div>
    <script>
        var jqDivReplace = $('#divReplace'), jqStyle = $('style'), jqBody = $('body');

        $('head').append('<style>table.table tbody tr td, th {vertical-align: middle; text-align: center;}</style>');

        $.get('rooms', function (data){
            let jqTbody = $('#tbRoomList');

            for (prp in data) {
                jqTbody.append('<tr><td><button type="button" class="btn btn-info btnJoinRoom" id="' + prp + '">點擊進入</button></td><td>' + prp + '</td><td>' + data[prp].maxPlayers + '</td><td>' + data[prp].gameMode + '</td></tr>');
            }
            $('.btnJoinRoom').click(function (){
                jqDivReplace.remove();
                jqStyle.remove();
                //記錄歸屬畫室
                jqBody.attr('id', $(this).attr('id'));
                //載入畫室
                jqBody.load('views/drawingSay.html');
            });
        });

        $('#btnCreateRoom').click(function (){
            jqDivReplace.remove();
            jqStyle.remove();
            jqBody.load('views/createRoom.html');
        });
    </script>
</div>